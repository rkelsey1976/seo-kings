(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2724],{2724:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return z}});var r,o,l=t(7437),a=t(2265);function s(e,n){return Object.freeze({...e,...n})}let i=(0,a.createContext)(null),u=i.Provider;function c(){let e=(0,a.useContext)(i);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}var f=t(759),d=t.n(f);function p(){return(p=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}let m=(0,a.forwardRef)(function({bounds:e,boundsOptions:n,center:t,children:r,className:o,id:l,placeholder:s,style:i,whenReady:c,zoom:d,...m},g){let[h]=(0,a.useState)({className:o,id:l,style:i}),[b,x]=(0,a.useState)(null);(0,a.useImperativeHandle)(g,()=>b?.map??null,[b]);let y=(0,a.useCallback)(r=>{if(null!==r&&null===b){let o=new f.Map(r,m);null!=t&&null!=d?o.setView(t,d):null!=e&&o.fitBounds(e,n),null!=c&&o.whenReady(c),x(Object.freeze({__version:1,map:o}))}},[]);(0,a.useEffect)(()=>()=>{b?.map.remove()},[b]);let v=b?a.createElement(u,{value:b},r):s??null;return a.createElement("div",p({},h,{ref:y}),v)});var g=t(4887);function h(e){return(0,a.forwardRef)(function(n,t){let{instance:r,context:o}=e(n).current;return(0,a.useImperativeHandle)(t,()=>r),null==n.children?null:a.createElement(u,{value:o},n.children)})}function b(e,n,t){return Object.freeze({instance:e,context:n,container:t})}function x(e,n){return null==n?function(n,t){let r=(0,a.useRef)();return r.current||(r.current=e(n,t)),r}:function(t,r){let o=(0,a.useRef)();o.current||(o.current=e(t,r));let l=(0,a.useRef)(t),{instance:s}=o.current;return(0,a.useEffect)(function(){l.current!==t&&(n(s,t,l.current),l.current=t)},[s,t,r]),o}}function y(e,n){let t=(0,a.useRef)(n);(0,a.useEffect)(function(){n!==t.current&&null!=e.attributionControl&&(null!=t.current&&e.attributionControl.removeAttribution(t.current),null!=n&&e.attributionControl.addAttribution(n)),t.current=n},[e,n])}function v(e,n){let t=(0,a.useRef)();(0,a.useEffect)(function(){return null!=n&&e.instance.on(n),t.current=n,function(){null!=t.current&&e.instance.off(t.current),t.current=null}},[e,n])}function j(e,n){let t=e.pane??n.pane;return t?{...e,pane:t}:e}function w(e,n){(0,a.useEffect)(function(){return(n.layerContainer??n.map).addLayer(e.instance),function(){n.layerContainer?.removeLayer(e.instance),n.map.removeLayer(e.instance)}},[n,e])}function N(e){return function(n){let t=c(),r=e(j(n,t),t);return y(t.map,n.attribution),v(r.current,n.eventHandlers),w(r.current,t),r}}function C(e,n){var t,r;return t=x(e),r=function(e,r){let o=c(),l=t(j(e,o),o);return y(o.map,e.attribution),v(l.current,e.eventHandlers),n(l.current,o,e,r),l},(0,a.forwardRef)(function(e,n){let[t,o]=(0,a.useState)(!1),{instance:l}=r(e,o).current;(0,a.useImperativeHandle)(n,()=>l),(0,a.useEffect)(function(){t&&l.update()},[l,t,e.children]);let s=l._contentNode;return s?(0,g.createPortal)(e.children,s):null})}let k=(r=N(x(function({url:e,...n},t){return b(new f.TileLayer(e,j(n,t)),t)},function(e,n,t){!function(e,n,t){let{opacity:r,zIndex:o}=n;null!=r&&r!==t.opacity&&e.setOpacity(r),null!=o&&o!==t.zIndex&&e.setZIndex(o)}(e,n,t);let{url:r}=n;null!=r&&r!==t.url&&e.setUrl(r)})),(0,a.forwardRef)(function(e,n){let{instance:t}=r(e).current;return(0,a.useImperativeHandle)(n,()=>t),null})),O=h((o=x(function({positions:e,...n},t){let r=new f.Polygon(e,n);return b(r,s(t,{overlayContainer:r}))},function(e,n,t){n.positions!==t.positions&&e.setLatLngs(n.positions)}),function(e){let n=c(),t=o(j(e,n),n);return v(t.current,e.eventHandlers),w(t.current,n),function(e,n){let t=(0,a.useRef)();(0,a.useEffect)(function(){if(n.pathOptions!==t.current){let r=n.pathOptions??{};e.instance.setStyle(r),t.current=r}},[e,n])}(t.current,e),t})),E=C(function(e,n){return b(new f.Tooltip(e,n.overlayContainer),n)},function(e,n,{position:t},r){(0,a.useEffect)(function(){let o=n.overlayContainer;if(null==o)return;let{instance:l}=e,a=e=>{e.tooltip===l&&(null!=t&&l.setLatLng(t),l.update(),r(!0))},s=e=>{e.tooltip===l&&r(!1)};return o.on({tooltipopen:a,tooltipclose:s}),o.bindTooltip(l),function(){o.off({tooltipopen:a,tooltipclose:s}),null!=o._map&&o.unbindTooltip()}},[e,n,r,t])}),I=h(N(x(function({position:e,...n},t){let r=new f.Marker(e,n);return b(r,s(t,{overlayContainer:r}))},function(e,n,t){n.position!==t.position&&e.setLatLng(n.position),null!=n.icon&&n.icon!==t.icon&&e.setIcon(n.icon),null!=n.zIndexOffset&&n.zIndexOffset!==t.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),null!=n.opacity&&n.opacity!==t.opacity&&e.setOpacity(n.opacity),null!=e.dragging&&n.draggable!==t.draggable&&(!0===n.draggable?e.dragging.enable():e.dragging.disable())}))),L=C(function(e,n){return b(new f.Popup(e,n.overlayContainer),n)},function(e,n,{position:t},r){(0,a.useEffect)(function(){let{instance:o}=e;function l(e){e.popup===o&&(o.update(),r(!0))}function a(e){e.popup===o&&r(!1)}return n.map.on({popupopen:l,popupclose:a}),null==n.overlayContainer?(null!=t&&o.setLatLng(t),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){n.map.off({popupopen:l,popupclose:a}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(o)}},[e,n,r,t])});t(5046),delete d().Icon.Default.prototype._getIconUrl,d().Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png"});let R=new(d()).DivIcon({className:"custom-marker",html:'<div style="\n    background: linear-gradient(135deg, #6366f1, #8b5cf6);\n    width: 24px;\n    height: 24px;\n    border-radius: 50%;\n    border: 3px solid white;\n    box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n  "></div>',iconSize:[24,24],iconAnchor:[12,12],popupAnchor:[0,-12]});var z=()=>(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)(m,{center:[51.3472,-2.39],zoom:11,scrollWheelZoom:!1,style:{height:"500px",width:"100%"},className:"rounded-lg z-0",children:[(0,l.jsx)(k,{attribution:'\xa9 <a href="https://carto.com/">CARTO</a>',url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png"}),(0,l.jsx)(O,{positions:[[51.45,-2.28],[51.445,-2.35],[51.43,-2.42],[51.41,-2.5],[51.38,-2.52],[51.35,-2.55],[51.32,-2.56],[51.29,-2.54],[51.27,-2.52],[51.25,-2.48],[51.24,-2.44],[51.23,-2.4],[51.24,-2.35],[51.25,-2.3],[51.27,-2.28],[51.3,-2.25],[51.33,-2.23],[51.36,-2.25],[51.39,-2.26],[51.42,-2.27],[51.45,-2.28]],pathOptions:{color:"#6366f1",weight:3,fillColor:"#6366f1",fillOpacity:.15,dashArray:"10, 5"},children:(0,l.jsx)(E,{sticky:!0,children:(0,l.jsx)("span",{className:"font-semibold",children:"Bath & North East Somerset"})})}),[{name:"Bath",lat:51.3751,lng:-2.3617,businesses:"5,000+",slug:"bath"},{name:"Keynsham",lat:51.4136,lng:-2.4978,businesses:"800+",slug:"keynsham"},{name:"Midsomer Norton",lat:51.2847,lng:-2.4817,businesses:"500+",slug:"midsomer-norton"},{name:"Radstock",lat:51.2929,lng:-2.4486,businesses:"250+",slug:"radstock"},{name:"Peasedown St John",lat:51.317,lng:-2.427,businesses:"200+",slug:"peasedown-st-john"},{name:"Paulton",lat:51.304,lng:-2.506,businesses:"180+",slug:"paulton"},{name:"Saltford",lat:51.402,lng:-2.459,businesses:"150+",slug:"saltford"},{name:"Timsbury",lat:51.322,lng:-2.478,businesses:"80+",slug:"timsbury"}].map(e=>(0,l.jsxs)(I,{position:[e.lat,e.lng],icon:R,children:[(0,l.jsx)(L,{children:(0,l.jsxs)("div",{className:"text-center min-w-[120px]",children:[(0,l.jsx)("strong",{className:"text-lg block mb-1",children:e.name}),(0,l.jsxs)("span",{className:"text-gray-600 text-sm",children:[e.businesses," businesses"]}),(0,l.jsx)("a",{href:"/areas/".concat(e.slug),className:"block mt-2 text-sm text-indigo-600 hover:text-indigo-800 font-medium",children:"View area â†’"})]})}),(0,l.jsx)(E,{direction:"top",offset:[0,-10],opacity:.9,children:(0,l.jsx)("span",{className:"font-medium",children:e.name})})]},e.slug))]}),(0,l.jsxs)("div",{className:"absolute bottom-4 left-4 bg-dark-card/95 backdrop-blur-sm border border-white/10 rounded-lg p-3 z-[1000]",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,l.jsx)("div",{className:"w-4 h-4 rounded border-2 border-primary bg-primary/20"}),(0,l.jsx)("span",{className:"text-gray-300",children:"Bath & North East Somerset boundary"})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm mt-2",children:[(0,l.jsx)("div",{className:"w-4 h-4 rounded-full bg-gradient-to-br from-primary to-secondary border-2 border-white"}),(0,l.jsx)("span",{className:"text-gray-300",children:"Service Areas"})]})]})]})},5046:function(){}}]);